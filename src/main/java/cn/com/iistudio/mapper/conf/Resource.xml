<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org/DTD Mapper 3.0" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.com.iistudio.mapper.ResourceMapper">
<select id="getResourcesByContent">

select r.id,mu.nickname,r.pubdata,r.title,r.`describe`,tbc.type typeByContent,tbf.type typeByFormat from Resources as r,TypeByContent as tbc,TypeByFormat as tbf,MembersUser as mu where  r.typeByFormat = tbf.id and r.typeByContent = tbc.id and r.username = mu.username and r.typeByContent = 'ai' order by r.pubdata limit 0,3;
</select>

<select id="getResourcesByFormat">

select r.id,mu.nickname,r.pubdata,r.title,r.`describe`,tbc.type typeByContent,tbf.type typeByFormat from Resources as r,TypeByContent as tbc,TypeByFormat as tbf,MembersUser as mu where  r.typeByFormat = tbf.id and r.typeByContent = tbc.id and r.username = mu.username and r.TypeByFormat = 'ai' order by r.pubdata limit 0,3;

</select>

<select id="getResources">

select r.id,r.username,r.pubdata,r.title,r.`describe`,r.typeByContent,r.typeByFormat from Resources as r order by r.pubdata limit 0,#{0};

</select>

<select id="getAllResources">

select r.id,r.username,r.pubdata,r.title,r.`describe`,r.typeByContent,r.typeByFormat from Resources as r ;

</select>


</mapper>